function loadImage(e,o){const n=document.createElement("img");n.src=e;n.addEventListener("load",function(){o(n,null)}),n.addEventListener("error",function(){o(null,"Ошибка, проверьте адрес картинки")})}function func(e,o){o?console.log(o):document.body.append(e)}loadImage("../../img/calc/2cat_aries (1).png",func),setTimeout(function(){emit("loaded",[1,2,3,4,5])},3e3);let subsribers={"имя события 1":["массив коллбэков события"],"имя события 2":["массив коллбэков события"],"имя события 3":["массив коллбэков события"]};function emit(e,o){if(subsribers[e])for(var n of subsribers[e])n(o)}function on(e,o){subsribers[e]||(subsribers[e]=[]),subsribers[e].push(o)}function task1(){new Promise(function(e){setTimeout(function(){e("how are you?")},3e3)}).then(function(e){console.log(e)})}function task2(){new Promise(function(e,o){var n=Math.floor(10*Math.random());1<=n&&n<=5?e(1/n):o(new Error("error: число не входит в диапазон от 1 до 5"))}).then(function(e){console.log(e)},function(e){console.log(e)})}function task3(){var o=[];for(let e=0;e<10;e++)o.push(function(){const o=Math.floor(1e4*Math.random()+1e3);return new Promise(e=>{setTimeout(function(){e(o)},o)})}());Promise.all(o).then(e=>{console.log(e)}).catch(e=>{console.log(e)})}function task4(){var o=[];for(let e=0;e<10;e++)o.push(function(){let o=Math.floor(1e4*Math.random()+1e3);return new Promise(e=>{setTimeout(function(){e(o)},o)})}());Promise.race(o).then(e=>{console.log(e)}).catch(e=>{console.log(e)})}function task5(){var o=[];for(let e=0;e<10;e++)o.push(new Promise(e=>{let o=Math.floor(1e4*Math.random()+1e3);setTimeout(()=>{e(o)},o)}));Promise.all(o).then(e=>{e=e.reduce((e,o)=>e+o,0);console.log(e)}).catch(e=>{console.log(e)})}on("loaded",function(e){document.querySelector("#message").textContent="данные получены"}),on("loaded",function(o){var n=document.querySelector("#list");for(let e=0;e<o.length;e++){var t=document.createElement("li");t.textContent=o[e],n.appendChild(t)}}),on("loaded",function(e){document.querySelector("#amount").textContent="Количество элементов в массиве "+e.length}),on("loaded",function(e){e=e.reduce((e,o)=>e+o,0);document.querySelector("#result").textContent="Суммф элементов массива - "+e}),task1(),task2(),task3(),task4(),task5();