function task27(){var s,m,v,p,C,e=document.querySelector("#name"),t=document.querySelector("#price"),n=document.querySelector("#amount"),o=document.querySelector("#add"),r=document.querySelector("#table"),c=document.querySelector("#total");function x(e,t,n){var o=document.createElement("td");return o.classList.add(""+e),o.textContent=t,n.appendChild(o),o}function y(e){var t=[...document.querySelectorAll(".cost")].reduce((e,t)=>{if(0<parseInt(t.textContent))return e+parseInt(t.textContent)},0);e.textContent=t}function f(e,t){e.parentElement.remove(),y(t)}function q(t,n){t.addEventListener("dblclick",function(){console.log(t.textContent);var r,c,a,e=document.createElement("input");e.value=t.textContent,t.textContent="",t.appendChild(e),c=t,a=n,(r=e).addEventListener("keypress",function(e){var t,n,o;"Enter"==e.code&&(c.textContent=r.value,r.remove(),e=a,(t=c).classList.contains("price")||t.classList.contains("amount"))&&(t=t.parentElement,o=t.querySelector(".price"),n=t.querySelector(".amount"),t=t.querySelector(".cost"),o=parseInt(o.textContent)*parseInt(n.textContent),t.textContent=o,y(e))})})}s=r,m=c,v=e,p=t,C=n,o.addEventListener("click",function(){e=s,t=v,n=p,a=C,o=f,r=m,c=document.createElement("tr"),t=x("name",t.value,c),u=x("price",n.value,c),l=x("amount",a.value,c),x("cost",n.value*a.value,c),n=x("remove","удалить",c);var e,t,n,o,r,c,a=u,u=l,l=n,d=o,i=r;q(t,i),q(a,i),q(u,i),l.addEventListener("click",function(){d(this,i)}),e.appendChild(c),y(m)})}task27();