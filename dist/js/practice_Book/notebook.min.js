function task26(){var v,m,f,e=document.querySelector(".save"),t=document.querySelector("#notes"),a=document.querySelector("textarea");function p(e,t,a,n){var c=document.createElement("span");c.classList.add(""+t),e.appendChild(c),a(c,e,n)}function y(t,a,n){for(let e=0;e<n.length;e++)t.textContent="Запись "+(e+1),a.dataset.key=e}function h(e){e.innerHTML="&#128465;"}function k(e,t,a,n){a=Number(a.dataset.key);if("open"==n.target.className&&(e.value=t[a]),"remove"==n.target.className){t.splice(a,1),n.target.parentElement.remove();var c=document.querySelectorAll(".open");for(let e=a;e<c.length;e++)c[e].textContent="Запись "+(e+1),c[e].parentElement.dataset.key=e}}function E(e){e.forEach(e=>{e.classList.remove("active")})}v=t,m=[],f=a,e.addEventListener("click",function(){var e=this.dataset.mode;if(s=v,r=m,o=f,i=this,"create"==e){var t=s,a=r,n=o,c=k;if(""!=n.value){a.push(n.value);const d=document.createElement("li");p(d,"open",y,a),p(d,"remove",h),t.appendChild(d),d.addEventListener("click",function(e){c(n,a,d,e)})}{var r=s,l=i;const u=r.querySelectorAll("li");u.forEach((e,t)=>{e.addEventListener("click",function(){E(u),e.classList.add("active"),l.dataset.mode="update",l.dataset.key=t})})}}{var o,s,i;o=m,t=f,s=this,i=v,"update"==e&&(r=o,e=t,o=s,s=i,i=Number(o.dataset.key),r.splice(i,1,e.value),o.dataset.mode="create",E(s.querySelectorAll("li")))}f.value=""})}task26();